<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - TastyMart</title>
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <header>
        <h1>TastyMart</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="cart.html">Cart (<span id="cart-counter">0</span>)</a>
        </nav>
    </header>
    <main>
        <h2>Our Products</h2>

        <div class="filters">
            <input type="text" id="searchBar" placeholder="Search products..." />
            <select id="categoryFilter">
                <option value="all">All Categories</option>
                <!-- Categories will be injected here -->
            </select>
            <input type="number" id="minPrice" placeholder="Min $" min="0" />
            <input type="number" id="maxPrice" placeholder="Max $" min="0" />
        </div>


        <div id="productGrid" class="product-grid">
            <div class="product-card" data-name="Organic Apples" data-category="fruit">
                <img src="images/product1.jpg" alt="Product 1" />
                <h3>Organic Apples</h3>
                <p>$4.99</p>
                <button onclick='addToCart({name: "Organic Apples", price: 4.99})'>Add to Cart</button>
            </div>
            <div class="product-card" data-name="Fresh Bananas" data-category="fruit">
                <img src="images/product2.jpg" alt="Product 2" />
                <h3>Fresh Bananas</h3>
                <p>$2.99</p>
                <button onclick='addToCart({name: "Fresh Bananas", price: 2.99})'>Add to Cart</button>
            </div>
            <div class="product-card" data-name="Orange Juice" data-category="drink">
                <img src="images/product3.jpg" alt="Product 3" />
                <h3>Orange Juice</h3>
                <p>$3.49</p>
                <button onclick='addToCart({name: "Orange Juice", price: 3.49})'>Add to Cart</button>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 TastyMart. All rights reserved.</p>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const searchBar = document.getElementById("searchBar");
            const categoryFilter = document.getElementById("categoryFilter");
            const cards = document.querySelectorAll(".product-card");

            function filterProducts() {
                const search = searchBar.value.toLowerCase();
                const category = categoryFilter.value;

                cards.forEach(card => {
                    const name = card.dataset.name.toLowerCase();
                    const cat = card.dataset.category;

                    const matchSearch = name.includes(search);
                    const matchCategory = category === "all" || cat === category;

                    card.style.display = matchSearch && matchCategory ? "block" : "none";
                });
            }

            searchBar.addEventListener("input", filterProducts);
            categoryFilter.addEventListener("change", filterProducts);
        });
    </script>
</body>

</html>